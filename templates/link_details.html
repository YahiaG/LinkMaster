{% extends 'base.html' %} {% block content %}
<div class="container mt-4">
  <div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h4 class="mb-0">Link Details</h4>
      <button onclick="history.back()" class="btn btn-secondary">
        Back to Search
      </button>
    </div>
    <div class="card-body">
      <!-- Basic Information -->
      <div class="row mb-4">
        <div class="col-md-6">
          <h5 class="border-bottom pb-2">Basic Information</h5>
          <table class="table table-sm">
            <tr>
              <th style="width: 40%">Link Name:</th>
              <td>{{ link.link_name }}</td>
            </tr>
            <tr>
              <th>Link Supplier:</th>
              <td>{{ link.link_supplier }}</td>
            </tr>
            <tr>
              <th>Transmission Type:</th>
              <td>{{ link.transmission_type }}</td>
            </tr>
            <tr>
              <th>Band:</th>
              <td>{{ link.band }}</td>
            </tr>
            <tr>
              <th>Status:</th>
              <td>
                <span
                  class="badge {% if link.activity == 'Active' %}bg-success{% elif link.activity == 'Planned' %}bg-danger{% else %}bg-secondary{% endif %}"
                >
                  {{ link.activity }}
                </span>
              </td>
            </tr>
          </table>
        </div>
        <div class="col-md-6">
          <h5 class="border-bottom pb-2">Technical Specifications</h5>
          <table class="table table-sm">
            <tr>
              <th style="width: 40%">Capacity:</th>
              <td>{{ link.capacity }}</td>
            </tr>
            <tr>
              <th>Path Length:</th>
              <td>{{ link.path_length_km }} km</td>
            </tr>
            <tr>
              <th>Polarization:</th>
              <td>{{ link.polarization }}</td>
            </tr>
            <tr>
              <th>Tx Power:</th>
              <td>{{ link.tx_power_dbm }} dBm</td>
            </tr>
            <tr>
              <th>Received Power (B End):</th>
              <td>
                <span class="badge bg-info">
                  {{ link.received_power_b_end_mdb|floatformat:2 }} mdb
                </span>
              </td>
            </tr>
          </table>
        </div>
      </div>

      <!-- Site Information -->
      <div class="row mb-4">
        <div class="col-md-6">
          <h5 class="border-bottom pb-2">Site B End</h5>
          <table class="table table-sm">
            <tr>
              <th style="width: 40%">Site No:</th>
              <td>{{ link.site_no_b_end }}</td>
            </tr>
            <tr>
              <th>Site Name:</th>
              <td>{{ link.site_name_b_end }}</td>
            </tr>
            <tr>
              <th>Antenna Size:</th>
              <td>{{ link.antenna_size_b_end }}</td>
            </tr>
            <tr>
              <th>Antenna Height:</th>
              <td>{{ link.antenna_height_b_end }}</td>
            </tr>
            <tr>
              <th>Azimuth:</th>
              <td>{{ link.azimuth_b_end }}</td>
            </tr>
            <tr>
              <th>Tx Frequency:</th>
              <td>{{ link.tx_freq_b_end }}</td>
            </tr>
            <tr>
              <th>MMU ID:</th>
              <td>{{ link.mmu_id_b_end }}</td>
            </tr>
          </table>
        </div>
        <div class="col-md-6">
          <h5 class="border-bottom pb-2">Site A End</h5>
          <table class="table table-sm">
            <tr>
              <th style="width: 40%">Site No:</th>
              <td>{{ link.site_no_a_end }}</td>
            </tr>
            <tr>
              <th>Site Name:</th>
              <td>{{ link.site_name_a_end }}</td>
            </tr>
            <tr>
              <th>Antenna Size:</th>
              <td>{{ link.antenna_size_a_end }}</td>
            </tr>
            <tr>
              <th>Antenna Height:</th>
              <td>{{ link.antenna_height_a_end }}</td>
            </tr>
            <tr>
              <th>Azimuth:</th>
              <td>{{ link.azimuth_a_end }}</td>
            </tr>
            <tr>
              <th>Tx Frequency:</th>
              <td>{{ link.tx_freq_a_end }}</td>
            </tr>
            <tr>
              <th>MMU ID:</th>
              <td>{{ link.mmu_id_a_end }}</td>
            </tr>
          </table>
        </div>
      </div>

      <!-- Additional Information -->
      <div class="row">
        <div class="col-12">
          <h5 class="border-bottom pb-2">Additional Information</h5>
          <table class="table table-sm">
            <tr>
              <th style="width: 15%">Hub Name:</th>
              <td>{{ link.hub_name }}</td>
            </tr>
            <tr>
              <th>Comments:</th>
              <td>{{ link.comments_and_grooming }}</td>
            </tr>
            <tr>
              <th>Conc:</th>
              <td>{{ link.conc }}</td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
